/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{662:function(wa,ua,b){b.r(ua);b.d(ua,"ByteRangeRequest",function(){return r});var la=b(0),na=b(1);b.n(na);var oa=b(2),ka=b(237);wa=b(140);var ia=b(394),ea=b(116),x=b(110),y=b(393),h=b(266);b=b(584);var e=[],f=[],w=window,n=function(){return function(){this.Sr=1}}(),a;(function(ba){ba[ba.UNSENT=0]="UNSENT";ba[ba.DONE=4]="DONE"})(a||(a={}));var r=function(){function ba(ha,aa,ca,fa){var pa=this;this.url=ha;this.range=aa;this.ag=
ca;this.withCredentials=fa;this.Kra=a;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);w.Uint8Array&&(this.request.responseType="arraybuffer");fa&&(this.request.withCredentials=fa);z.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(aa.stop)?this.request.setRequestHeader("Range","bytes=".concat(aa.start)):this.request.setRequestHeader("Range",["bytes=",aa.start,"-",aa.stop-1].join("")));ca&&Object.keys(ca).forEach(function(ja){pa.request.setRequestHeader(ja,ca[ja])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}ba.prototype.start=function(ha){var aa=this,ca=this.request;ca.onreadystatechange=function(){if(aa.aborted)return aa.status=y.a.ABORTED,ha({code:y.a.ABORTED});if(this.readyState===aa.Kra.DONE){aa.WN();var fa=0===window.document.URL.indexOf("file:///");200===ca.status||206===ca.status||fa&&0===ca.status?(fa=w.ida(this),aa.t3(fa,ha)):(aa.status=
y.a.ERROR,ha({code:aa.status,status:aa.status}))}};this.request.send(null);this.status=y.a.STARTED};ba.prototype.t3=function(ha,aa){this.status=y.a.SUCCESS;if(aa)return aa(!1,ha)};ba.prototype.abort=function(){this.WN();this.aborted=!0;this.request.abort()};ba.prototype.WN=function(){var ha=Object(h.c)(this.url,this.range,f);-1!==ha&&f.splice(ha,1);if(0<e.length){ha=e.shift();var aa=new ba(ha.url,ha.range,this.ag,this.withCredentials);ha.request=aa;f.push(ha);aa.start(Object(h.d)(ha))}};ba.prototype.extend=
function(ha){var aa=Object.assign({},this,ha.prototype);aa.constructor=ha;return aa};return ba}(),z=function(ba){function ha(aa,ca,fa,pa,ja){fa=ba.call(this,aa,fa,pa)||this;fa.zn={};fa.KL=ca;fa.url=aa;fa.DISABLE_RANGE_HEADER=!1;fa.bI=r;fa.h5=3;fa.ag=ja||{};return fa}Object(la.d)(ha,ba);ha.prototype.WE=function(aa,ca,fa){var pa=-1===aa.indexOf("?")?"?":"&";switch(fa){case !1:case x.a.NEVER_CACHE:aa="".concat(aa+pa,"_=").concat(Object(na.uniqueId)());break;case !0:case x.a.CACHE:aa="".concat(aa+pa,
"_=").concat(ca.start,",").concat(Object(na.isUndefined)(ca.stop)?"":ca.stop)}return aa};ha.prototype.S$=function(aa,ca,fa,pa){void 0===fa&&(fa={});return new this.bI(aa,ca,fa,pa)};ha.prototype.gEa=function(aa,ca,fa,pa,ja){for(var ma=0;ma<e.length;ma++)if(Object(na.isEqual)(e[ma].range,ca)&&Object(na.isEqual)(e[ma].url,aa))return e[ma].Qj.push(pa),e[ma].EP++,null;for(ma=0;ma<f.length;ma++)if(Object(na.isEqual)(f[ma].range,ca)&&Object(na.isEqual)(f[ma].url,aa))return f[ma].Qj.push(pa),f[ma].EP++,null;
fa={url:aa,range:ca,KL:fa,Qj:[pa],EP:1};if(0===e.length&&f.length<this.h5)return f.push(fa),fa.request=this.S$(aa,ca,ja,this.withCredentials),fa;e.push(fa);return null};ha.prototype.pu=function(aa,ca,fa){var pa=this.WE(aa,ca,this.KL);(aa=this.gEa(pa,ca,this.KL,fa,this.ag))&&aa.request.start(Object(h.d)(aa));return function(){var ja=Object(h.c)(pa,ca,f);if(-1!==ja){var ma=--f[ja].EP;0===ma&&f[ja].request&&f[ja].request.abort()}else ja=Object(h.c)(pa,ca,e),-1!==ja&&(ma=--e[ja].EP,0===ma&&e.splice(ja,
1))}};ha.prototype.xca=function(){return{start:-ka.a}};ha.prototype.sKa=function(){var aa=-(ka.a+ka.e);return{start:aa-ka.d,end:aa}};ha.prototype.wB=function(aa){var ca=this;this.UL=!0;var fa=ka.a;this.pu(this.url,this.xca(),function(pa,ja,ma){function sa(){var qa=ca.df.sca();ca.pu(ca.url,qa,function(ra,ta){if(ra)return Object(oa.j)("Error loading central directory: ".concat(ra)),aa(ra);ta=Object(ea.a)(ta);if(ta.length!==qa.stop-qa.start)return aa("Invalid XOD file: Zip central directory data is wrong size! Should be ".concat(qa.stop-
qa.start," but is ").concat(ta.length));ca.df.Gia(ta);ca.BV=!0;ca.UL=!1;return aa(!1)})}if(pa)return Object(oa.j)("Error loading end header: ".concat(pa)),aa(pa,ja,ma);ja=Object(ea.a)(ja);if(ja.length!==fa)return aa("Invalid XOD file: Zip end header data is wrong size!");try{ca.df=new ia.a(ja)}catch(qa){return aa(qa)}ca.df.$Na?ca.pu(ca.url,ca.sKa(),function(qa,ra){if(qa)return Object(oa.j)("Error loading zip64 header: ".concat(qa)),aa(qa);ra=Object(ea.a)(ra);ca.df.IOa(ra);sa()}):sa()})};ha.prototype.cda=
function(aa){aa(Object.keys(this.df.Lt))};ha.prototype.g1=function(aa,ca){var fa=this;if(this.df.x$(aa)){var pa=this.df.OF(aa);if(pa in this.zn){var ja=this.mk[aa];ja.Nz=this.zn[pa];ja.Nz.Sr++;ja.cancel=ja.Nz.cancel}else{var ma=this.df.dHa(aa),sa=this.pu(this.url,ma,function(ra,ta){ra?(Object(oa.j)('Error loading part "'.concat(aa,'": ').concat(ra)),fa.pu(fa.url,ma,function(va,ya){if(va)return ca(va,aa);fa.Kia(ya,ma,pa,aa,ca)})):fa.Kia(ta,ma,pa,aa,ca)}),qa=this.mk[aa];qa&&(qa.cma=!0,qa.cancel=function(){qa.Nz.Sr--;
0===qa.Nz.Sr&&(sa(),delete fa.zn[pa])},this.zn[pa]=new n(pa),qa.Nz=this.zn[pa],qa.Nz.cancel=qa.cancel)}}else delete this.mk[aa],ca(Error('File not found: "'.concat(aa,'"')),aa)};ha.prototype.Kia=function(aa,ca,fa,pa,ja){if(aa.length!==ca.stop-ca.start)ja(Error("Part data is wrong size!"),pa);else{do{if(!this.zn[fa])return;pa=this.zn[fa].Sr;for(var ma=ca.Ux.length,sa=0;sa<ma;++sa){var qa=ca.Ux[sa];ja(!1,qa.Qx,aa["string"===typeof aa?"substring":"subarray"](qa.start,qa.stop),this.df.Oea(qa.Qx));qa.Qx in
this.mk&&delete this.mk[qa.Qx]}}while(pa!==this.zn[fa].Sr);delete this.zn[fa]}};ha.DISABLE_RANGE_HEADER=!1;ha.h5=3;return ha}(wa.a);(function(ba){function ha(aa,ca,fa){var pa=ba.call(this)||this,ja;for(ja in aa)pa[ja]=aa[ja];pa.C6a=aa;pa.startOffset=ca;pa.endOffset=fa;pa.S$=function(ma,sa,qa,ra){Object(na.isUndefined)(sa.stop)?(sa.start+=pa.endOffset,sa.stop=pa.endOffset):(sa.start+=pa.startOffset,sa.stop+=pa.startOffset);ma=pa.WE(pa.url,sa,pa.KL);return new aa.bI(ma,sa,qa,ra)};return pa}Object(la.d)(ha,
ba);return ha})(z);Object(b.a)(z);Object(b.b)(z);ua["default"]=z}}]);}).call(this || window)
